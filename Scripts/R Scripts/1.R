library(DBI)
library(lattice)
library(Hmisc)
library(dplyr)
library(RMySQL)
library(plotrix)
library(reshape2)
library(graphics)
con <- dbConnect(MySQL(), user = 'root', password = 'admin', host = 'localhost', dbname='changehistory')
#vetorPaths <- c("dom","javascript","javascript_extras","javascript_xpconnect","layout_rendering","libraries","kernel","network","webpage_structure","widget")
#for(i in vetorPaths){      
querryTable="kernelClassify"
querryBefore="SELECT func,cveID, module, vulnerability, SUM(NCEC),SUM(NCMC),SUM(NFCEC),SUM(NFCMC),SUM(NMEC),SUM(NMMC),SUM(NVEC),SUM(NVMC),dateT FROM "
querryAfter=" GROUP BY func,file_path,CVEID,module ORDER BY dateT;"
kernelclassify <- dbGetQuery(con,paste(querryBefore,querryTable,querryAfter,sep=""))


kernel_vulnerabilities <- subset(kernelclassify,vulnerability == 1)

kernel_without_vulnerabilities <- subset(kernelclassify,vulnerability == 0)

ts(kernel_vulnerabilities[5], frequency = 12, start = c(1990, 2)) # 2nd Quarter of 1959
print( ts(1:10, frequency = 7, start = c(12, 2)), calendar = TRUE)





z <- ts(matrix(kernel_vulnerabilities[5]), 200, 8), start = c(2005, 2), frequency = 12)
plot(z, yax.flip = TRUE)

ts(kernel_vulnerabilities[5], frequency = 12, start = c(1990, 2)) # 2nd Quarter of 1959
plot(ts(kernel_vulnerabilities[5], frequency = 7, start = c(1990, 1)))


dbDisconnect(con)
