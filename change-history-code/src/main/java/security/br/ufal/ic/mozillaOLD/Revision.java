package security.br.ufal.ic.mozillaOLD;

import java.util.ArrayList;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class Revision {
	
	
	private String original;
	
	private String valueCompared;
	

	public Revision(String original) {
		this.original = original;
		String temp=original.substring(0,2);
		this.valueCompared = original.replace(".", "").replaceFirst("\\d", temp);
	}

	public String getOriginal() {
		return original;
	}
	
	public Revision get(){
		return this;
	}

	public void setOriginal(String original) {
		this.original = original;
	}

	public Double getValueCompared() {
		return Double.parseDouble(valueCompared);
	}

	public void setValueCompared(String valueCompared) {
		this.valueCompared = valueCompared;
	}
	
	public ArrayList<String> listRevision(String revisioStop,String wayFile){
		ArrayList<Revision> listrevisionTemp = new ArrayList<>();
		ArrayList<String> list = new ArrayList<>();
		Pattern pattern = Pattern.compile("(?<=revision )([\\d.])+");
		String log = DiffRevision.exe("cvs log " + " " + wayFile);

		Matcher matcher = pattern.matcher(log);
		System.out.println(log);
		while (matcher.find()) {
			String result = matcher.group();
			listrevisionTemp.add(new Revision(result));
		}
		
		
		for(int i=0;i<listrevisionTemp.size();i++){
			for(int k =1;k<listrevisionTemp.size();k++){
				if(listrevisionTemp.get(k).getValueCompared()<listrevisionTemp.get(i).getValueCompared()){
					Revision aux=listrevisionTemp.get(i);
					
					

				}
			}
			
			
		}
		
		
		
		return list;
		

	}
	

	public static void main(String[] args) {
		
		
		
		
		Revision r1 = new  Revision("1.233.2.1");
		
		Revision r2 = new  Revision("1.223.2.4");
		
		System.out.println(r2.getValueCompared());
		
		if(r1.getValueCompared()>r2.getValueCompared()){
			System.out.println("� maior");
		}else{
			System.out.println("� menor");
		}

		
		
		
		
		
		
	}
	
	
}
