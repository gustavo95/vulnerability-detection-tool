package security.br.ufal.ic.moodle;

import org.hibernate.HibernateException;
import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.cfg.Configuration;


public class DataMoodleReportDAOController {
	final ThreadLocal<Session> threadLocal = new ThreadLocal<Session>();
	@SuppressWarnings("deprecation")
	final SessionFactory sessionFactory = new Configuration()
			.configure().buildSessionFactory();
	Session session = threadLocal.get();
	
	
	public void addInstace(DataMoodleReport dataMoodleReport) {
	
			session = sessionFactory.openSession();
			
			try {
				session.beginTransaction();
				session.save(dataMoodleReport);
				session.getTransaction().commit();
				session.close();
			} catch (HibernateException e) {
				e.printStackTrace();
				session.getTransaction().rollback();

			}
		
	}
}