package security.br.ufal.ic.mozillaOLD;

import org.hibernate.HibernateError;
import org.hibernate.HibernateException;
import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.cfg.Configuration;

public class DataReportDAOController {
	
	final ThreadLocal<Session> threadLocal = new ThreadLocal<Session>();
	@SuppressWarnings("deprecation")
	final SessionFactory sessionFactory = new Configuration()
			.configure().buildSessionFactory();
	Session session = threadLocal.get();
	
	
	public void addInstace(DataReport dataReport) {
		

			session = sessionFactory.openSession();
			
			
			try {
				session.beginTransaction();
				session.save(dataReport);
				session.getTransaction().commit();
				session.close();
			} catch (HibernateException e) {
				e.printStackTrace();
				session.getTransaction().rollback();

			}
		
	}

}
